<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pr√©stamos de Libros en L√≠nea</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .libro {
      border: 1px solid #ccc;
      padding: 10px;
      margin-bottom: 8px;
      border-radius: 5px;
    }
    .prestado {
      background-color: #f8d7da;
      color: #721c24;
      text-decoration: line-through;
    }
    button {
      margin-top: 5px;
    }
  </style>
</head>
<body>

  <h1>üìö Pr√©stamo de Libros en L√≠nea</h1>

  <div id="listaLibros"></div>

  <script>
    // Base de datos simulada de libros
    const libros = [
      { id: 1, titulo: "Cien A√±os de Soledad", autor: "Gabriel Garc√≠a M√°rquez" },
      { id: 2, titulo: "1984", autor: "George Orwell" },
      { id: 3, titulo: "Don Quijote de la Mancha", autor: "Miguel de Cervantes" },
      { id: 4, titulo: "El Principito", autor: "Antoine de Saint-Exup√©ry" },
      { id: 5, titulo: "Rayuela", autor: "Julio Cort√°zar" }
    ];

    // Recuperar libros prestados desde localStorage o iniciar vac√≠o
    let librosPrestados = JSON.parse(localStorage.getItem('librosPrestados')) || [];

    // Funci√≥n para renderizar los libros
    function mostrarLibros() {
      const contenedor = document.getElementById('listaLibros');
      contenedor.innerHTML = ''; // Limpiar antes de volver a mostrar

      libros.forEach(libro => {
        const libroDiv = document.createElement('div');
        libroDiv.className = 'libro';

        const estaPrestado = librosPrestados.includes(libro.id);

        libroDiv.innerHTML = `
          <strong>${libro.titulo}</strong><br>
          <em>${libro.autor}</em><br>
          Estado: ${estaPrestado ? '<span class="prestado">Prestado</span>' : 'Disponible'}
          <br>
          ${!estaPrestado ? `<button onclick="prestarLibro(${libro.id})">Prestar</button>` : ''}
        `;

        contenedor.appendChild(libroDiv);
      });
    }

    // Funci√≥n para prestar un libro
    function prestarLibro(id) {
      if (!librosPrestados.includes(id)) {
        librosPrestados.push(id);
        localStorage.setItem('librosPrestados', JSON.stringify(librosPrestados));
        mostrarLibros();
      }
    }

    // Mostrar los libros al cargar la p√°gina
    mostrarLibros();
  </script>

</body>
</html>
